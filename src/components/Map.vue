<template>
  <div class="mapview">
    <div id="mapView"></div>
  </div>
</template>

<script>
  import L from 'leaflet';
  import "leaflet/dist/leaflet.css";

  import { mapGetters } from 'vuex';

  export default {
    name: "Map",

    data () {
      return {
        mapContainer: null
      }
    },

    methods: {
      setupLeafletMap () {
        const { geolocation } = this;

        const { VITE_MAPBOX_TOKEN } = import.meta.env;

        this.mapContainer = L.map("mapView");

        this.marker = L.icon({
          iconUrl: 'data:image/webp;base64,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',
          iconSize: [46, 46],
          iconAnchor: [22, 94],
          popupAnchor: [-3, -76]
        });

        L.tileLayer(
          `https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=${VITE_MAPBOX_TOKEN}`, {
            attribution: 'Map data (c) <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: "mapbox/streets-v11",
            accessToken: VITE_MAPBOX_TOKEN
          }
        ).addTo(this.mapContainer);
      }
    },

    computed: {
      ...mapGetters([
        'geolocation'
      ])
    },

    mounted () {
      this.setupLeafletMap();
    },

    watch: {
      geolocation (cur) {
        this.mapContainer.setView(
          cur.length
            ? cur
            : [-8.0581959, -34.8807641],
          15
        );

        L.marker(cur, { icon: this.marker }).addTo(this.mapContainer);
      }
    }
  }
</script>

<style lang="scss">
  .mapview {
    flex: 1 100%;

    #mapView {
      height: 100%;
      z-index: 10 !important;
    }
  }
</style>